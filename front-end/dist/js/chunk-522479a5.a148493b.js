(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-522479a5"],{"04d1":function(t,e,s){"use strict";var a=s("342f"),r=a.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},"083a":function(t,e,s){"use strict";var a=s("0d51"),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw new r("Cannot delete property "+a(e)+" of "+a(t))}},"1ae6":function(t,e,s){"use strict";s.r(e);s("4e82"),s("b0c0");var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-section"},[e("b-container",[e("HeaderPage",{attrs:{title:"Gestão de Utilizadores"}}),e("b-row",{staticClass:"mb-4"},[e("b-col",{attrs:{cols:"1"}}),e("b-col",[e("router-link",{staticClass:"btn btn-outline-success mr-2 mt-2",attrs:{to:{name:"addUser"},tag:"button"}},[e("i",{staticClass:"fas fa-plus-square"}),t._v(" ADICIONAR UTILIZADOR")]),e("router-link",{staticClass:"btn btn-outline-info mr-2 mt-2",attrs:{to:{name:"admin"},tag:"button"}},[e("i",{staticClass:"fas fa-bars"}),t._v(" MENU PRINCIPAL")])],1),e("b-col",{attrs:{cols:"1"}})],1),e("b-row",[e("b-col",{attrs:{cols:"1"}}),e("b-col",[e("table",{staticClass:"table table-striped"},[e("thead",{staticClass:"thead-dark"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(" NOME "),1===t.sortType?e("i",{staticClass:"fas fa-arrow-up",on:{click:function(e){return t.sort()}}}):e("i",{staticClass:"fas fa-arrow-down",on:{click:function(e){return t.sort()}}})]),e("th",{attrs:{scope:"col"}},[t._v("TIPO")]),e("th",{attrs:{scope:"col"}},[t._v("DATA DE CRIAÇÃO")]),e("th",{attrs:{scope:"col"}},[t._v("AÇÕES")])])]),e("tbody",t._l(t.users,(function(s){return e("tr",{key:s._id},[e("td",{staticClass:"pt-4"},[t._v(t._s(s.name))]),e("td",{staticClass:"pt-4"},[t._v(t._s("admin"===s.type?"Administrador":"Utilizador normal"))]),e("td",{staticClass:"pt-4"},[t._v(t._s(t.formatDate(s.registration_date)))]),e("td",[e("router-link",{staticClass:"btn btn-outline-success mr-2",attrs:{to:{name:"editUser",params:{userId:s._id}},tag:"button"}},[e("i",{staticClass:"fas fa-edit"}),t._v(" EDITAR")]),e("button",{staticClass:"btn btn-outline-success mr-2",attrs:{type:"button"},on:{click:function(e){return t.viewUser(s._id)}}},[e("i",{staticClass:"fas fa-search"}),t._v(" VER")]),e("button",{staticClass:"btn btn-outline-danger mr-2",attrs:{type:"button"},on:{click:function(e){return t.removeUser(s._id)}}},[e("i",{staticClass:"fas fa-trash-alt"}),t._v(" REMOVER")])],1)])})),0)])]),e("b-col",{attrs:{cols:"1"}})],1)],1)],1)},r=[],n=s("5530"),i=(s("7db0"),s("d3b7"),s("99af"),s("a4d3"),s("e01a"),s("e680")),o=s("e9c6"),c=s("2f62"),u={name:"ManageUsers",components:{HeaderPage:o["a"]},data:function(){return{users:[],sortType:1}},computed:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["getUserLevelByPoints"])),Object(c["b"])("user",["getUsers","getMessage"])),methods:{fetchUsers:function(){var t=this;this.$store.dispatch("user/".concat(i["c"])).then((function(){t.users=t.getUsers}),(function(e){t.$alert("".concat(e.message),"Erro","error")}))},sort:function(){this.users.sort(this.compareNames),this.sortType*=-1},compareNames:function(t,e){return t.name>e.name?1*this.sortType:t.name<e.name?-1*this.sortType:0},viewUser:function(t){var e=this.users.find((function(e){return e._id===t}));this.$fire({title:e.auth.username,html:this.generateTemplate(e),imageUrl:s("0606")("./".concat(this.getUserLevelByPoints(e.gamification.points).avatar,".png")),imageWidth:150,imageHeight:150,imageAlt:"Imagem desconhecida"})},generateTemplate:function(t){return"\n          <h5>".concat(t.gamification.points," pontos (").concat(this.getUserLevelByPoints(t.gamification.points).name,")</h5>\n          <p>").concat(t.description,"</p>\n          <p>\n          <b>Nome:</b> ").concat(t.name," <br>\n          <b>Tipo de utilizador:</b> ").concat("admin"===t.type?"Administrador":"Utilizador normal"," <br>\n          <b>Data de registo:</b> ").concat(this.formatDate(t.registration_date)," <br>\n          <b>Data de nascimento:</b> ").concat(this.formatDate(t.birth_date),"<br>\n          <b>Cidade:</b> ").concat(t.location.city,"<br>\n          <b>País:</b> ").concat(t.location.country,"\n          </p>\n        ")},formatDate:function(t){var e=new Date(Date.parse(t));return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},removeUser:function(t){var e=this;this.$confirm("Se sim, clique em OK","Deseja mesmo remover o utilizador?","warning",{confirmButtonText:"OK",cancelButtonText:"Cancelar"}).then((function(){e.$store.dispatch("user/".concat(i["d"]),t).then((function(){e.$alert(e.getMessage,"Utilizador removido!","success"),e.fetchUsers()}))}),(function(){e.$alert("Remoção cancelada!","Informação","info")}))}},created:function(){this.fetchUsers()}},l=u,d=s("2877"),f=Object(d["a"])(l,a,r,!1,null,null,null);e["default"]=f.exports},"222a":function(t,e,s){"use strict";s("f4ee")},"4e82":function(t,e,s){"use strict";var a=s("23e7"),r=s("e330"),n=s("59ed"),i=s("7b0b"),o=s("07fa"),c=s("083a"),u=s("577e"),l=s("d039"),d=s("addb"),f=s("a640"),b=s("04d1"),m=s("d998"),h=s("2d00"),p=s("512c"),v=[],g=r(v.sort),C=r(v.push),_=l((function(){v.sort(void 0)})),w=l((function(){v.sort(null)})),U=f("sort"),y=!l((function(){if(h)return h<70;if(!(b&&b>3)){if(m)return!0;if(p)return p<603;var t,e,s,a,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:s=3;break;case 68:case 71:s=4;break;default:s=2}for(a=0;a<47;a++)v.push({k:e+a,v:s})}for(v.sort((function(t,e){return e.v-t.v})),a=0;a<v.length;a++)e=v[a].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),A=_||!w||!U||!y,k=function(t){return function(e,s){return void 0===s?-1:void 0===e?1:void 0!==t?+t(e,s)||0:u(e)>u(s)?1:-1}};a({target:"Array",proto:!0,forced:A},{sort:function(t){void 0!==t&&n(t);var e=i(this);if(y)return void 0===t?g(e):g(e,t);var s,a,r=[],u=o(e);for(a=0;a<u;a++)a in e&&C(r,e[a]);d(r,k(t)),s=o(r),a=0;while(a<s)e[a]=r[a++];while(a<u)c(e,a++);return e}})},"512c":function(t,e,s){"use strict";var a=s("342f"),r=a.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},addb:function(t,e,s){"use strict";var a=s("4dae"),r=Math.floor,n=function(t,e){var s=t.length,c=r(s/2);return s<8?i(t,e):o(t,n(a(t,0,c),e),n(a(t,c),e),e)},i=function(t,e){var s,a,r=t.length,n=1;while(n<r){a=n,s=t[n];while(a&&e(t[a-1],s)>0)t[a]=t[--a];a!==n++&&(t[a]=s)}return t},o=function(t,e,s,a){var r=e.length,n=s.length,i=0,o=0;while(i<r||o<n)t[i+o]=i<r&&o<n?a(e[i],s[o])<=0?e[i++]:s[o++]:i<r?e[i++]:s[o++];return t};t.exports=n},d998:function(t,e,s){"use strict";var a=s("342f");t.exports=/MSIE|Trident/.test(a)},e9c6:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("b-container",[e("b-row",{staticClass:"text-center"},[e("b-col",[e("h2",{staticClass:"page-section-heading mt-5"},[t._v(t._s(t.title.toUpperCase()))])])],1),e("b-row",{staticClass:"text-center"},[e("b-col",[e("div",{staticClass:"divider-custom"},[e("div",{staticClass:"divider-custom-line"}),e("div",{staticClass:"divider-custom-icon"},[e("i",{staticClass:"fas fa-star"})]),e("div",{staticClass:"divider-custom-line"})])])],1)],1)},r=[],n={name:"HeaderPage",props:["title"]},i=n,o=(s("222a"),s("2877")),c=Object(o["a"])(i,a,r,!1,null,"4b0c4b4e",null);e["a"]=c.exports},f4ee:function(t,e,s){}}]);
//# sourceMappingURL=chunk-522479a5.a148493b.js.map